name: Deployment Workflow
on:
  push:
    branches:
      - "Dev"
  workflow_dispatch:
    inputs:
      branch:
        required: true
        type: string
env: 
  branch: java

jobs:

  calling_common_config:
    if: ${{ github.event_name == 'workflow_dispatch' }}
    uses: Suvit-Sharma/DevopsT/.github/workflows/cc.yaml@${{ env.branch }}
    with:
      branch: ${{ inputs.branch }}
        
    
  Testing:
    needs: calling_common_config
    runs-on: ubuntu-latest
    steps:
      - name: git checkout 
        uses: actions/checkout@v3
        
      - name: cat Testing.txt(Dev)
        run: cat Testing.txt
        
      - name: print variables from reusable workflow
        run: |
          echo ${{ needs.calling_common_config.outputs.dev_var1 }}
          echo ${{ needs.calling_common_config.outputs.dev_var2 }}
          echo ${{ needs.calling_common_config.outputs.dev_var3 }}
